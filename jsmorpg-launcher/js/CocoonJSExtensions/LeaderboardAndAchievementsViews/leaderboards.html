<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>iBasket</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/main.css"/>

    <script src="../CocoonJSExtensions/CocoonJS.js"></script>
    <script src="../CocoonJSExtensions/CocoonJS_App.js"></script>
    <script src="../CocoonJSExtensions/CocoonJS_App_ForWebView.js"></script>
    <script>
        window.addEventListener("load", function() {
            CocoonJS.App.disableTouchInCocoonJS();
        }, false);
    </script>
</head>

<body>

<div id="container" class="page_leaderboards">

    <nav id="tabs">
        <ul>
            <li class="active"><a href="#">Friends</a></li>
        </ul>
    </nav>

    <div id="data">
        <table id="leaderboard">
        </table>
    </div>


    <p id="close"><a href="#" onclick="CocoonJS.App.hide(); CocoonJS.App.enableTouchInCocoonJS();">Close</a></p>

</div>
<!-- /#container -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-1.8.3.min.js"><\/script>')</script>
<script type="text/javascript">
    $("tr").before('<tr class="spacer"><td colspan="3"></td></tr>');
</script>

<script>

    function initializeView() {
        document.getElementById("leaderboard").innerHTML='';
    }

    function addNewScore(stringifiedScoreInfo, me, position) {
        var userWithScoreInfo = JSON.parse(stringifiedScoreInfo);
        var leaderboards = document.getElementById("leaderboard");

        var newTR = document.createElement("tr");
        if (me) {
            newTR.setAttribute("class", "active");
        }

        var str = '<td class="position">' + position + '</td>' +
                '<td class="name"><img src="' + userWithScoreInfo.imageURL + '">' + userWithScoreInfo.userName + '</td>' +
                '<td class="score">' + userWithScoreInfo.score + '</td>'

        newTR.innerHTML = str;
        leaderboards.appendChild(newTR);
    }
</script>
</body>
</html>