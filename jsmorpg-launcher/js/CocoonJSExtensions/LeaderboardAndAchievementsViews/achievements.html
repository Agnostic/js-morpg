<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
         <title>iBasket</title>
         <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

 		<link rel="stylesheet" type="text/css" media="screen" href="assets/css/main.css" />

 		<script src="../CocoonJSExtensions/CocoonJS.js"></script>
 		<script src="../CocoonJSExtensions/CocoonJS_App.js"></script>
 		<script src="../CocoonJSExtensions/CocoonJS_App_ForWebView.js"></script>
        <script>
            window.addEventListener("load", function() {
                CocoonJS.App.disableTouchInCocoonJS();
            }, false);
        </script>
    </head>

    <body>
    
    	<div id="container" class="page_achivements">
    	
			<div id="data">
			
				<ul id="achievementsList">
				</ul>
			
			</div> <!-- #data -->   		
    		
    		<p id="close"><a href="#" onclick="CocoonJS.App.hide();  CocoonJS.App.enableTouchInCocoonJS();">Close</a></p>
    	
    	</div> <!-- /#container -->

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="assets/js/jquery-1.8.3.min.js"><\/script>')</script>
		<script src="assets/js/jquery.equalheights.js"></script>
		<script type="text/javascript">
			$(function() {
				$("#data li").wrapInner('<div class="wrap_item" />');
			});
			
			$(window).load(function() {
				$("#data").equalHeights({
					selector: '.wrap_item',
					css_attr: 'min-height'
				});
			});
			
			$(window).resize(function() {
				$("#data .wrap_item").css('min-height', 0);
				$("#data").equalHeights({
					selector: '.wrap_item',
					css_attr: 'min-height'
				});
			});
		</script>

		<script>

            function initializeView() {
                document.getElementById("achievementsList").innerHTML='';
            }

			function addNewAchievementToTheAchievementsList(achieved, stringifiedAchievementInfo) {
				var achievementInfo = JSON.parse(stringifiedAchievementInfo);
				var achievementsList = document.getElementById("achievementsList");

				var newLI = document.createElement("li");
				if (!achieved) {
					newLI.setAttribute("class", "locked");
					achievementInfo.imageURL = "assets/images/achivement_locked.png";
				}

                var str= '<div class="image"><img src="' + achievementInfo.imageURL + '" alt="' + (achieved ? '' : 'Locked') + '" /></div><div class="title"><span>' + achievementInfo.title + '</span></div><div class="text">' + achievementInfo.description + '</div><div class="goal">' + achievementInfo.points + '</div>';
				newLI.innerHTML = str;
				achievementsList.appendChild(newLI);
			}
		</script>
    </body>
</html>